// notewriter.c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char *argv[])
{
	FILE *fd;

	// Allocating memory on the heap
 	char *userinput = malloc(20);
 	char *notefile = malloc(20);

	 if(argc < 2)
	{
	   printf("Usage: %s <message to be written to /tmp/notes>\n", argv[0]);
	   exit(0);
	}

	// Copy data into heap memory
 	strcpy(notefile, "/tmp/notes");
 	strcpy(userinput, argv[1]);

	// Writing the data out to the file.
 	fd = fopen(notefile, "a");
 	if (fd == NULL)
 	{
   		printf("error opening notes file: %s\n", notefile);
   		exit(1);
 	}
 	fprintf(fd, "%s\n", userinput);
 	fclose(fd);

 	free(userinput);
 	free(notefile);

 	return 0;
}